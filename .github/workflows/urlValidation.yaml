# .github/workflows/link-check.yml

name: 拽转 转拽转 拽砖专 转专

# 专转 专专 驻注转 -workflow
on:
  # 1. 驻注  PUSH 注祝 专砖
  push:
    branches:
      - main # 砖 -master   砖 注祝 专砖 砖
  
  # 2. 驻注  Pull Request 注祝 专砖
  pull_request:
    branches:
      - main # 砖 -master   砖 注祝 专砖 砖
      
  # 3. 驻注 转 转 砖转 "Actions" -GitHub
  workflow_dispatch:

  # 4. 驻注 转 驻   (  爪转 UTC)
  # 注专:   -GitHub Actions 住住 注  UTC.
  # "0 0 * * *" =   爪转 (砖注 0, 拽 0).
  schedule:
    - cron: '0 0 * * *' 

# 专转 -jobs (砖转) 砖专爪
jobs:
  check_html_links:
    runs-on: ubuntu-latest # 注专转 驻注 砖注 专抓 -job

    steps:
      # 砖 1: 砖转 拽 驻专拽
      - name: 猬锔 砖转 拽 专驻专
        uses: actions/checkout@v4 # 拽砖 住专 砖转 拽 驻专拽

      # 砖 2: 拽转 拽砖专 爪注转 lycheejs/lychee-action
      - name:  拽转 拽砖专 拽爪 HTML
        # *** 转拽 : 砖 -v1.x -v6 ***
        uses: lycheejs/lychee-action@v6 # 砖砖 拽砖 砖 lychee 专住 转
        with:
          # 专 注专  -lychee.
          #  爪  转  拽爪 -HTML 砖 专爪 住专拽.
          # lychee  拽  拽砖专 住 转 拽爪.
          args: |
            ./index.html
            ./ClassA/*.html
            ./ClassB/*.html
            ./ClassC/*.html
            ./ClassD/*.html
            # 转 住祝 专 住驻 砖 拽转 转专:
            --timeout 30s #  拽爪 拽住 拽转 拽砖专 
            --max-retries 3 # 住驻专 住转 专 注专 拽砖专 砖砖 转
            --exclude 'mailto:.*|tel:.*|http://example.com' # 驻住 (regex) 砖 拽砖专 转注  (, 拽砖专 /驻   爪 住驻爪驻).
            --verbose # 爪转 注 驻专 转专 -log 砖 -workflow
            # --base-url 'https://your-website.com/' #  转专 砖 驻专住 转转 住转,   注专 驻转专 拽砖专 住 砖 拽爪 拽.
          
      # 砖 3 (驻爪):  转爪转
      # lychee 专  砖-job 砖  砖 拽砖专 砖专.
      # 转 住祝  砖 住祝 砖专转  驻专 转专  转专爪,
      # 砖 爪注转 `actions/upload-artifact`  砖专 转 拽抓 -report 砖 lychee.
