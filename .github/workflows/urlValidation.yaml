# .github/workflows/link-check.yml

name: 拽转 转拽转 拽砖专 转专

# 专转 专专 驻注转 -workflow
on:
  # 1. 驻注  PUSH 注祝 专砖
  push:
    branches:
      - main # 砖 -master   砖 注祝 专砖 砖
  
  # 2. 驻注  Pull Request 注祝 专砖
  pull_request:
    branches:
      - main # 砖 -master   砖 注祝 专砖 砖
      
  # 3. 驻注 转 转 砖转 "Actions" -GitHub
  workflow_dispatch:

  # 4. 驻注 转 驻   (  爪转 UTC)
  schedule:
    - cron: '0 0 * * *' 

# 专转 -jobs (砖转) 砖专爪
jobs:
  check_html_links:
    runs-on: ubuntu-latest # 注专转 驻注 砖注 专抓 -job

    steps:
      # 砖 1: 砖转 拽 驻专拽
      - name: 猬锔 砖转 拽 专驻专
        uses: actions/checkout@v4

      # 砖 2: 拽转 拽砖专 爪注转 lycheejs/lychee-action
      - name:  拽转 拽砖专 拽爪 HTML
        # *** 转拽 : 砖砖 专住  v1 ***
        uses: lycheejs/lychee-action@v1 
        with:
          args: |
            ./index.html
            ./ClassA/*.html
            ./ClassB/*.html
            ./ClassC/*.html
            ./ClassD/*.html
            --timeout 30s
            --max-retries 3
            --exclude 'mailto:.*|tel:.*|http://example.com'
            --verbose # 爪转 注 驻专 (  URL 砖拽)
