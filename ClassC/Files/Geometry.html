<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>×œ×™××•×“ ×©×˜×—×™× - ×©×˜×— ×‘×™×Ÿ ×¦×•×¨×•×ª (×©××œ×•×ª ××©×ª× ×•×ª)</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: right; margin: 20px; background-color: #f9f9f9; }
        h1 { color: #333; text-align: center; }
        p.intro { text-align: center; font-size: 1.1em; }
        .question { margin-bottom: 40px; border: 2px solid #a0d8ef; padding: 20px; border-radius: 15px; background-color: #fff; box-shadow: 0 4px 8px rgba(0,0,0,0.1); }
        canvas { border: 2px solid #000; margin: 15px 0; background-color: #fff; border-radius: 8px; }
        input { margin: 10px 0; width: 120px; padding: 8px; font-size: 1.1em; text-align: center; }
        button { background-color: #4CAF50; color: white; border: none; padding: 10px 20px; cursor: pointer; font-size: 1em; border-radius: 5px; }
        button:hover { background-color: #45a049; }
        .feedback { font-weight: bold; margin-top: 15px; font-size: 1.2em; }
        .correct { color: green; }
        .incorrect { color: red; }
        #reload { text-align: center; margin: 30px; }
        #reload button { background-color: #ff9800; font-size: 1.1em; padding: 12px 24px; }
        #reload button:hover { background-color: #e68900; }
    </style>
</head>
<body>
    <h1>×œ×™××•×“ ×©×˜×—×™×: ×”×©×˜×— ×©×‘×™×Ÿ ×¨×™×‘×•×¢ ×’×“×•×œ ×œ×¦×•×¨×” ×§×˜× ×” ×™×•×ª×¨</h1>
    <p class="intro">×”×¨×™×‘×•×¢ ×”×—×™×¦×•× ×™ ×ª××™×“ 10Ã—10 (×©×˜×— 100).<br>
    ×‘×ª×•×›×• ×™×© ×¨×™×‘×•×¢ ××• ××œ×‘×Ÿ ×§×˜×Ÿ ×™×•×ª×¨. ×—×©×‘×• ××ª ×”×©×˜×— ×©××—×•×¥ ×œ×¦×•×¨×” ×”×¤× ×™××™×ª (100 ×¤×—×•×ª ×©×˜×— ×”×¤× ×™××™).<br>
    ×‘×›×œ ×¤×¢× ×©×ª×˜×¢×™× ×• ××ª ×”×“×£ â€“ ×™×•×¤×™×¢×• ×©××œ×•×ª ×—×“×©×•×ª!</p>

    <div id="questions"></div>

    <div id="reload">
        <button onclick="location.reload()">×©××œ×•×ª ×—×“×©×•×ª!</button>
    </div>

    <script>
        const OUTER_AREA = 100;
        const NUM_QUESTIONS = 5;

        // ×™×¦×™×¨×ª 5 ×©××œ×•×ª ××§×¨××™×•×ª
        function generateQuestions() {
            const container = document.getElementById('questions');
            container.innerHTML = '';

            for (let i = 1; i <= NUM_QUESTIONS; i++) {
                // ×”×× ×¨×™×‘×•×¢ ××• ××œ×‘×Ÿ?
                const isSquare = Math.random() < 0.5;

                let width, height;
                if (isSquare) {
                    width = height = Math.floor(Math.random() * 8) + 2; // 2-9
                } else {
                    width = Math.floor(Math.random() * 8) + 2;  // 2-9
                    do {
                        height = Math.floor(Math.random() * 8) + 2;
                    } while (height === width); // ×›×“×™ ×©×–×” ×œ× ×™×”×™×” ×¨×™×‘×•×¢ ×‘×˜×¢×•×ª
                }

                const innerArea = width * height;
                const answer = OUTER_AREA - innerArea;

                const shapeText = isSquare ? `×¨×™×‘×•×¢ ×¤× ×™××™: ${width} ×¢×œ ${width}` : `××œ×‘×Ÿ ×¤× ×™××™: ${width} ×¢×œ ${height}`;

                // ×™×¦×™×¨×ª ××œ×× ×˜ ×”×©××œ×”
                const div = document.createElement('div');
                div.className = 'question';
                div.innerHTML = `
                    <h2>×©××œ×” ${i}</h2>
                    <p>×¨×™×‘×•×¢ ×—×™×¦×•× ×™: 10 ×¢×œ 10 (×©×˜×— 100).<br>${shapeText}.<br>××” ×”×©×˜×— ×©×‘×—×•×¥ (××—×•×¥ ×œ×¦×•×¨×” ×”×¤× ×™××™×ª)?</p>
                    <canvas id="canvas${i}" width="150" height="150"></canvas>
                    <br>
                    <input type="number" id="answer${i}" placeholder="×”×ª×©×•×‘×” ×©×œ×š">
                    <button onclick="checkAnswer(${i}, ${answer})">×‘×“×•×§</button>
                    <div id="feedback${i}" class="feedback"></div>
                `;
                container.appendChild(div);

                // ×¦×™×•×¨ ×¢×œ ×”×§× ×‘×¡
                drawShape(i, width, height, isSquare);
            }
        }

        function drawShape(qNum, w, h, isSquare) {
            const canvas = document.getElementById(`canvas${qNum}`);
            const ctx = canvas.getContext('2d');
            const scale = 12; // ×›×“×™ ×©×™×”×™×” ××§×•× ××¡×‘×™×‘
            const offsetX = (150 - 10*scale)/2;
            const offsetY = (150 - 10*scale)/2;

            // ×¨×§×¢ ×œ×‘×Ÿ
            ctx.clearRect(0, 0, 150, 150);

            // ×¨×™×‘×•×¢ ×—×™×¦×•× ×™ (××¤×•×¨ ×‘×”×™×¨)
            ctx.fillStyle = '#bbddee';
            ctx.fillRect(offsetX, offsetY, 10*scale, 10*scale);

            // ×¦×•×¨×” ×¤× ×™××™×ª (×œ×‘×Ÿ)
            ctx.fillStyle = '#ffffff';
            ctx.strokeStyle = '#000000';
            ctx.lineWidth = 2;

            // ××™×§×•× ××§×¨××™ ×§×¦×ª ×›×“×™ ×©×–×” ×œ× ×ª××™×“ ×‘×“×™×•×§ ×‘××¨×›×–
            const marginX = Math.floor(Math.random() * (10 - w + 1)) * scale + offsetX;
            const marginY = Math.floor(Math.random() * (10 - h + 1)) * scale + offsetY;

            ctx.fillRect(marginX, marginY, w*scale, h*scale);
            ctx.strokeRect(marginX, marginY, w*scale, h*scale);

            // ×§×•×•×™ ×¨×©×ª ×§×œ×™× ×œ×”××—×©×” (××•×¤×¦×™×•× ×œ×™)
            ctx.strokeStyle = '#cccccc';
            ctx.lineWidth = 0.5;
            for (let x = 0; x <= 10; x++) {
                ctx.beginPath();
                ctx.moveTo(offsetX + x*scale, offsetY);
                ctx.lineTo(offsetX + x*scale, offsetY + 10*scale);
                ctx.stroke();
            }
            for (let y = 0; y <= 10; y++) {
                ctx.beginPath();
                ctx.moveTo(offsetX, offsetY + y*scale);
                ctx.lineTo(offsetX + 10*scale, offsetY + y*scale);
                ctx.stroke();
            }
        }

        function checkAnswer(qNum, correctAnswer) {
            const input = document.getElementById(`answer${qNum}`);
            const feedback = document.getElementById(`feedback${qNum}`);
            const userAnswer = parseInt(input.value);

            if (isNaN(userAnswer)) {
                feedback.textContent = '×”×–×Ÿ ××¡×¤×¨ ×‘×‘×§×©×”!';
                feedback.className = 'feedback incorrect';
                return;
            }

            if (userAnswer === correctAnswer) {
                feedback.textContent = '××¢×•×œ×”! ×ª×©×•×‘×” × ×›×•× ×”! ğŸ‰';
                feedback.className = 'feedback correct';
            } else {
                feedback.textContent = `×œ× ×‘×“×™×•×§... ×”×©×˜×— ×”× ×›×•×Ÿ ×”×•× ${correctAnswer}. × ×¡×” ×©×•×‘!`;
                feedback.className = 'feedback incorrect';
            }
        }

        // ×”×¤×¢×œ×” ×¨××©×•× ×™×ª
        generateQuestions();
    </script>
</body>
</html>
